# RetailCRM MCP Server

MCP (Model Context Protocol) ÑĞµÑ€Ğ²ĞµÑ€ Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ RetailCRM API. ĞŸĞ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Claude Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼ AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ°Ğ¼ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ğ¼, ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼ Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°Ğ¼ Ğ¸Ğ· Ğ²Ğ°ÑˆĞµĞ¹ CRM-ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹.

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ñ‡ĞµÑ€ĞµĞ· npm

```bash
npm install -g retailcrm-mcp
```

### Ğ˜Ğ»Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
git clone https://github.com/yourusername/retailcrm-mcp.git
cd retailcrm-mcp
npm install
npm run build
```

## âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°

### 1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ API ĞºĞ»ÑÑ‡ Ğ¸Ğ· RetailCRM

1. Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² ÑĞ²Ğ¾Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ RetailCRM
2. ĞŸĞµÑ€ĞµĞ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸** â†’ **Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ** â†’ **ĞšĞ»ÑÑ‡Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº API**
3. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»ÑÑ‡ Ñ Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸ Ğ½Ğ° Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ², ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
4. Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ ĞºĞ»ÑÑ‡

### 2. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» `~/.retailcrm-mcp/.env`:

```bash
mkdir -p ~/.retailcrm-mcp
cat > ~/.retailcrm-mcp/.env << 'EOF'
RETAILCRM_URL=https://your-account.retailcrm.ru
RETAILCRM_API_KEY=your_api_key_here
MCP_PORT=3002
EOF
```

Ğ˜Ğ»Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ `.env` Ñ„Ğ°Ğ¹Ğ» Ğ² Ğ¿Ğ°Ğ¿ĞºĞµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:

```env
RETAILCRM_URL=https://your-account.retailcrm.ru
RETAILCRM_API_KEY=your_api_key_here
MCP_PORT=3002
```

### 3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° (2 Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ°)

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ A: Claude Desktop (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾)

ĞÑ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Claude Desktop:

**macOS:**
```bash
~/Library/Application\ Support/Claude/claude_desktop_config.json
```

**Windows:**
```
%APPDATA%/Claude/claude_desktop_config.json
```

Ğ”Ğ¾Ğ±Ğ°Ğ²ÑŒÑ‚Ğµ:

```json
{
  "mcpServers": {
    "retailcrm": {
      "command": "retailcrm-mcp"
    }
  }
}
```

#### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ B: Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ HTTP ÑĞµÑ€Ğ²ĞµÑ€ (Ğ´Ğ»Ñ AI Studio Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²)

**Ğ—Ğ°Ğ¿ÑƒÑĞº HTTP ÑĞµÑ€Ğ²ĞµÑ€Ğ°:**

```bash
npm run server
```

Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ½Ğ°:
- Health: http://localhost:3002/health
- Manifest: http://localhost:3002/manifest  
- Tools: http://localhost:3002/tools

**Ğ”Ğ»Ñ AI Studio:**
1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ ÑĞµÑ€Ğ²ĞµÑ€: `npm run server`
2. Ğ’ AI Studio Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ URL: `http://localhost:3002/manifest`
3. AI Studio Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶Ğ¸Ñ‚ Ğ²ÑĞµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

**Ğ”Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²:**
```bash
# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
curl http://localhost:3002/tools

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
curl http://localhost:3002/health

# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¼Ğ°Ğ½Ğ¸Ñ„ĞµÑÑ‚
curl http://localhost:3002/manifest
```

### 4. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Claude Desktop (ĞµÑĞ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚Ğµ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ A)

ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ·Ğ°ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¸ Ğ¾Ñ‚ĞºÑ€Ğ¾Ğ¹Ñ‚Ğµ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾ Claude Desktop.

## ğŸ’¬ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ ÑĞ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°Ñ‚ÑŒ Claude Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· RetailCRM:

- *"ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ 10 Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²"*
- *"ĞĞ°Ğ¹Ğ´Ğ¸ Ğ·Ğ°ĞºĞ°Ğ· Ğ½Ğ¾Ğ¼ĞµÑ€ 12345"*
- *"ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ Ñ email@example.com"*
- *"Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ² Ñƒ Ğ½Ğ°Ñ Ğ²ÑĞµĞ³Ğ¾?"*
- *"ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ¸Ğ· ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ X"*

## ğŸ› ï¸ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

### Ğ—Ğ°ĞºĞ°Ğ·Ñ‹
- `get_orders` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ² (Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸ĞµĞ¹)
- `get_order` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼ Ğ·Ğ°ĞºĞ°Ğ·Ğµ Ğ¿Ğ¾ ID
- `create_order` - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·

### ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
- `get_customers` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
- `get_customer` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ Ğ¿Ğ¾ ID
- `create_customer` - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
- `update_customer` - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

### Ğ¢Ğ¾Ğ²Ğ°Ñ€Ñ‹
- `get_products` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
- `get_product` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğµ Ğ¿Ğ¾ ID

### Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- `get_statistics` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¿Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ğ¼/ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼
- `get_order_statuses` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹ Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ²
- `get_delivery_types` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
- `get_payment_types` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ¾Ğ¿Ğ»Ğ°Ñ‚
- `get_sites` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ°Ğ¹Ñ‚Ñ‹
- `get_order_history` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·Ğ°
- `get_tasks` - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ·Ğ°Ğ´Ğ°Ñ‡
- `create_task` - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ

## ğŸ”§ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

### Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```bash
npm run build
```

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

```bash
# Ğ”Ğ»Ñ Claude Desktop (stdio)
npm run dev

# Ğ”Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½ĞµĞ³Ğ¾ HTTP ÑĞµÑ€Ğ²ĞµÑ€Ğ° (AI Studio)
npm run server
```

### Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· MCP Inspector

```bash
npx @modelcontextprotocol/inspector node build/index.js
```

### Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ HTTP ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ÑĞµÑ€Ğ²ĞµÑ€
npm run server

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»
curl http://localhost:3002/health
curl http://localhost:3002/manifest
curl http://localhost:3002/tools
```

## ğŸ“ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Node.js 18+
- API ĞºĞ»ÑÑ‡ Ğ¾Ñ‚ RetailCRM
- Claude Desktop (Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Claude)

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License - ÑĞ¼. Ñ„Ğ°Ğ¹Ğ» [LICENSE](LICENSE)

## ğŸ¤ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

Ğ•ÑĞ»Ğ¸ Ñƒ Ğ²Ğ°Ñ Ğ²Ğ¾Ğ·Ğ½Ğ¸ĞºĞ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹:

1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ, Ñ‡Ñ‚Ğ¾ API ĞºĞ»ÑÑ‡ Ğ°ĞºÑ‚Ğ¸Ğ²ĞµĞ½ Ğ¸ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ°
2. Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ĞµÑÑŒ, Ñ‡Ñ‚Ğ¾ URL RetailCRM ÑƒĞºĞ°Ğ·Ğ°Ğ½ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ (Ğ±ĞµĞ· ÑĞ»ÑÑˆĞ° Ğ² ĞºĞ¾Ğ½Ñ†Ğµ)
3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ»Ğ¾Ğ³Ğ¸ Claude Desktop
4. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ issue Ğ½Ğ° GitHub

## ğŸ”— Ğ¡ÑÑ‹Ğ»ĞºĞ¸

- [RetailCRM API Documentation](https://docs.retailcrm.ru/Developers/API/APIMethods)
- [MCP Protocol](https://modelcontextprotocol.io/)
- [Claude Desktop](https://claude.ai/download)
